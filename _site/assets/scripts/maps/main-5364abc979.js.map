{"version":3,"sources":["app/assets/scripts/main.js"],"names":["getPrimaryStats","countryId","url","$","getJSON","countryData","all_edits","usersCount","Math","round","contributors","editsCount","buildingCount","building_count_add","roadCount","road_count_add","html","toLocaleString","css","getProjects","projects","flexslider","animation","directionNav","slideshowSpeed","prevText","nextText","prependTo","length","forEach","project","i","projectData","geometry","makeProject","fail","err","console","warn","id","makePlaceholderProject","makeNoTasksPlaceholder","projectOrder","props","properties","projDone","done","validated","addClass","name","attr","append","addMap","projectId","ghIssueTitle","PT","ghIssueBody","errorHtml","empty","noTasksHTML","join","onEachFeature","feature","layer","symbology","color","weight","opacity","fillOpacity","fillColor","state","setStyle","endpoint","taskData","map","L","zoomControl","setView","tileLayer","mbBasemapUrl","mbToken","attribution","addTo","attributionControl","setPrefix","featureLayer","geoJson","fitBounds","getBounds","dragging","disable","touchZoom","doubleClickZoom","scrollWheelZoom","keyboard","tap","eventsFunctionality","eventsCount","firstTwoOpen","allOpen","bind","click","event","slice","animate","height","generateEvents","calendarId","match","currentDate","Date","eventData","linkMatch","log","Object","keys","reverse","key","val","eventTime","time","moment","isBefore","title","singupLink","description","desc","replace","location","date","format","d","eventTopSection","flag","eventMainDetails","eventsHTML","setupGraphs","removeExistingGraphs","totalGraph","document","querySelector","bldngGraph","roadsGraph","parentNode","removeChild","teamLabel","teamUserLabel","removeClass","text","getUserActivityStats","code","getGroupActivityStats","showMoreContributions","generateUserUrl","userName","userUrl","toLowerCase","userData","totalSum","user","totalEdits","Number","value","sort","a","b","bldngSum","bldngEdits","roadsSum","roadsEdits","road_km_add","c1","Barchart","c2","c3","moreBtn","d3","select","window","on","resize","generateHashtagUrl","hashtag","hashtagUrl","hashtagData","reduce","acc","ht","isEmptyObject","sum","push","building_count_mod","data","targetElement","margin","top","right","bottom","left","width","parseInt","style","barPadding","barHeight","offset","expanded","graphs","marginTop","x","scale","linear","range","domain","max","chart","node","bars","selectAll","enter","this","showUpdatesPlaceholder","hotProjects","calendar"],"mappings":"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","file":"main-5364abc979.js","sourcesContent":["\n/* -------------------------------------------------------\n ------------------- Add Primary Stats -------------------\n -------------------------------------------------------*/\n\nfunction getPrimaryStats (countryId) {\n  const url = `http://osmstats.redcross.org/countries/${countryId}`;\n  $.getJSON(url, function (countryData) {\n    if (countryData.all_edits !== null) {\n      // round value for select stats, then add them to page\n      const usersCount = Math.round(countryData.contributors);\n      const editsCount = Math.round(countryData.all_edits);\n      const buildingCount = Math.round(countryData.building_count_add);\n      const roadCount = Math.round(countryData.road_count_add);\n\n      $('#stats-roadCount').html(roadCount.toLocaleString());\n      $('#stats-buildingCount').html(buildingCount.toLocaleString());\n      $('#stats-usersCount').html(usersCount.toLocaleString());\n      $('#stats-editsCount').html(editsCount.toLocaleString());\n    } else {\n      $('.emphasizedNumber').css('display', 'none');\n    }\n  });\n}\n\n/* -------------------------------------------------------\n --------------- Add HOT Project Carousel ----------------\n -------------------------------------------------------*/\n\n// Fetch Project data from Tasking Manager API\nfunction getProjects (projects) {\n  // Add Flexslider to Projects Section\n  $('.Projects-slider').flexslider({\n    animation: 'slide',\n    directionNav: true,\n    slideshowSpeed: 6000000,\n    prevText: '',\n    nextText: '<i class=\"fa fa-caret-right\" aria-hidden=\"true\"></i>'\n  });\n  $('.flex-next').prependTo('.HOT-Nav-Projects');\n  $('.flex-control-nav').prependTo('.HOT-Nav-Projects');\n  $('.flex-prev').prependTo('.HOT-Nav-Projects');\n  if (projects.length > 0) {\n    if (projects.length === 1) {\n      $('.flex-next').css('display', 'none');\n    }\n    projects.forEach(function (project, i) {\n      const url = `http://tasks.hotosm.org/project/${project}.json`;\n      $.getJSON(url, function (projectData) {\n        if (projectData.geometry) {\n          makeProject(projectData, i + 2);\n        }\n      })\n      .fail(function (err) {\n        console.warn(`WARNING >> Project #${project.id} could not be accessed at ${url}.\\n` +\n                       'The server returned the following message object:', err);\n        makePlaceholderProject(project, i + 2);\n      });\n    });\n  } else {\n    makeNoTasksPlaceholder();\n  }\n}\n\n// Update cards with necessary project details\nfunction makeProject (project, projectOrder) {\n  const props = project.properties;\n  const projDone = Math.round(props.done + props.validated);\n  // Updates Progress Bar\n  $(`#Project-${project.id} .HOT-Progress`).addClass('projWidth' + projectOrder)\n\n  // Adds Project variables to the cards\n  $(`#Project-${project.id} .HOT-Title p`).html(`<b>${project.id} - ${props.name}</b>`);\n  $(`#Project-${project.id} .HOT-Progress`).html(`<p>${projDone}%</p>`);\n  $(`#Project-${project.id} .HOT-Map`).attr('id', `Map-${project.id}`);\n  $(`#Project-${project.id} .HOT-Progress`).append(`<style>.projWidth${projectOrder}:before{ width: ${projDone}%;}</style>`);\n\n\n  // Drop a map into the HOT-Map div\n  addMap(project.id);\n}\n\n// Adds placeholder/ warning formatting to project carousel entry in the event\n// that a project cannot be retrieved from the HOT Tasking Manager API\nfunction makePlaceholderProject (projectId, projectOrder) {\n  // Adds error title\n  $(`#Project-${projectId} .HOT-Title p`)\n    .html(`<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i>\n<b>HOT Project #${projectId} Not Active/Not Found in HOT Tasking Manager</b>`);\n\n  // Hides Tasking Manager Contribute button\n  $('#TM-Contribute-Btn-' + projectId).css('display', 'none');\n  $(`#HOT-Title-${projectId} p`).css('width', '100%');\n\n  // Generate issue information for Github tracker\n  const ghIssueTitle = `HOT Tasking Manager endpoint failure in ${PT.name} country page`;\n  const ghIssueBody = `Project ${projectId} is no longer indexed in the HOT\n Tasking Manager, so it should be removed from the ${PT.name} partner\n page variable settings.`;\n\n  // Add explanatory error text\n  const errorHtml = `Uh oh, it looks like <a href=\"http://tasks.hotosm.org/project/${projectId}\"\n target=\"_blank\">Project #${projectId}</a> has been removed from the HOT Tasking Manager.\n <a href=\"https://github.com/MissingMaps/partners/issues/new?title=${ghIssueTitle}&body=${ghIssueBody}\" target=\"_blank\">Click here</a> to report an issue or\n <a href=\"http://tasks.hotosm.org/\" target=\"_blank\">here</a>\n to search for more projects.`;\n\n  $(`#Project-${projectId}_clone .HOT-Description p`).html(errorHtml);\n\n  // Remove loading spinners and add placeholder background\n  $(`#Project-${projectId} .HOT-Map`).empty().addClass('placeholder');\n  $(`#Project-${projectId} .HOT-Progress `).css('display', 'none');\n  $(`#Project-${projectId} .HOT-Description`).css('display', 'none');\n}\n// Adds placeholder if no projects found in page metadata\nfunction makeNoTasksPlaceholder() {\n  let noTasksHTML = [\n    '<li style=\"list-style: none\" id = Project-NONE>',\n    '<div class = \"HOT-Container\">',\n    '<div class = \"HOT-Map placeholder\">',\n    '</div>',\n    '<div class = \"HOT-Details\">',\n    '<div class = \"HOT-Title\" id = \"HOT-Title-NONE\">',\n    '<h2><b>There currently are no tasks for this country.</b></h2>',\n    '</div>',\n    '<p><b></b></p><a href=\"http://tasks.hotosm.org/\" class=\"btn btn-blue\" id=\"TM-Contribute-Btn\">FIND OTHER TASKS</a></p>',\n    '</div>',\n    '</div>',\n    '</li>'\n  ];\n  $('.Projects-Container-Leftside').append(noTasksHTML.join(''));\n}\n\n/* -------------------------------------------------------\n ----------- Add Map to HOT Project Carousel -------------\n -------------------------------------------------------*/\n\nfunction onEachFeature (feature, layer) {\n  // Set symbology to match HOTOSM Tasking Manager completion states\n  let symbology = {\n    color: 'black',\n    weight: 0.25,\n    opacity: 0.7,\n    fillOpacity: 0.4,\n    fillColor: 'black'\n  };\n\n  const state = feature.properties.state;\n  if (state === -1) {\n    symbology.fillColor = '#dfdfdf';\n  } else if (state === 0) {\n    symbology.fillColor = '#dfdfdf';\n  } else if (state === 1) {\n    symbology.fillColor = '#dfdfdf';\n  } else if (state === 2) {\n    symbology.fillColor = '#ffa500';\n  } else if (state === 3) {\n    symbology.fillColor = '#008000';\n  }\n\n  layer.setStyle(symbology);\n}\n\nfunction addMap (projectId) {\n  // Connect HOT-OSM endpoint for tasking squares data\n  const endpoint = `http://tasks.hotosm.org/project/${projectId}/tasks.json`;\n  $.getJSON(endpoint, function (taskData) {\n    // Remove loading spinners before placing map\n    $('#Map-' + projectId).empty();\n\n    // Initialize map\n    const map = L.map('Map-' + projectId,\n      {zoomControl: false}).setView([38.889931, -77.009003], 13);\n\n    // Add tile layer\n    L.tileLayer(mbBasemapUrl + '?access_token=' + mbToken, {\n      attribution: '<a href=\"http://mapbox.com\">Mapbox</a>'\n    }).addTo(map);\n\n    // Remove 'Leaflet' attribution\n    map.attributionControl.setPrefix('');\n\n    // Add feature layer\n    const featureLayer = L.geoJson(taskData, {\n      onEachFeature: onEachFeature\n    }).addTo(map);\n\n    // Fit to feature layer bounds\n    map.fitBounds(featureLayer.getBounds());\n\n    // Disable drag and zoom handlers\n    map.dragging.disable();\n    map.touchZoom.disable();\n    map.doubleClickZoom.disable();\n    map.scrollWheelZoom.disable();\n    map.keyboard.disable();\n    if (map.tap) map.tap.disable();\n  });\n}\n\n\n/* -------------------------------------------------------\n ----------- Add Functionality to Events List  -----------\n -------------------------------------------------------*/\n\n// Adds hide/ show functionality to events list (pre-generated by Jekyll)\nfunction eventsFunctionality () {\n  const eventsCount = $('.event-sub-container').length;\n  var firstTwoOpen = false;\n  var allOpen = false;\n\n  if (eventsCount <= 3) {\n    $('.events-btn').css('display', 'none');\n  }\n\n  $('.events-btn').bind('click').click(function (event) {\n    if (firstTwoOpen === false && allOpen === false) {\n      firstTwoOpen = true;\n      $('.hidden').slice(0, 2)\n      .css('display', 'block').animate({\n        opacity: 1,\n        height: '190px'\n      }, 500);\n      if (eventsCount >= 5) {\n        $('.events-btn').html('SEE ALL');\n      } else {\n        firstTwoOpen = false;\n        allOpen = true;\n        $('.events-btn').html('SEE FEWER');\n      }\n    } else if (firstTwoOpen === true && allOpen === false && eventsCount > 2) {\n      firstTwoOpen = false;\n      allOpen = true;\n      $('.events-btn').html('SEE ALL');\n      $('.hidden').css('display', 'block').animate({\n        opacity: 1,\n        height: '190px'\n      }, 500);\n      $('.events-btn').html('SEE FEWER');\n    } else if (firstTwoOpen === false && allOpen === true) {\n      firstTwoOpen = false;\n      allOpen = false;\n      $('.hidden')\n        .animate({\n          opacity: 0,\n          height: '0px'\n        }, 300, function () {\n          $('.hidden').css('display', 'none');\n        });\n      $('.events-btn').html('SEE MORE');\n    }\n  });\n}\n\n/* -------------------------------------------------------\n -------------------- Add Events Cards -------------------\n -------------------------------------------------------*/\n\nfunction generateEvents (calendarId) {\n  if (calendarId.match(/google/)) {\n    $('#events-spinner').css('display','block');\n    const url = 'http://osmstats.redcross.org/calendar/' + calendarId + \"/events\";\n    const currentDate = new Date()\n    $.getJSON(url, (eventData) => {\n      if (eventData.length === 0) {\n        $('.events-null').css('display', 'block');\n        $('.events-panel').css('display', 'none');\n      } else {\n          let linkMatch =  /(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])/ig;\n          console.log(eventData);\n          Object.keys(eventData).reverse().map((key, val) => {\n          const eventTime = eventData[key].time[0]\n          if (moment(currentDate).isBefore(eventTime)) {\n            const title = eventData[key].name;\n            const singupLink = eventData[key].description.match(linkMatch);\n            const desc = eventData[key].description.replace(linkMatch, '');\n            const location = eventData[key].location;\n            const date = moment(eventData[key].time[0]).format(\"MMMM Do\");\n            const time = eventData[key].time.map((d) => {\n              const date = new Date(d);\n              return moment(date).format('h:mma');\n            }).join(' - ');\n            const eventTopSection = [\n              '<div class=\"card-divider event-top-section\">',\n              '<div class=\"sub-head\">',\n              '<img class=\"event-images\" src=\"/assets/graphics/flags/4x3/' + PT.flag + '\" width=\"24\"/>',\n              '<h3 class=\"event-header\">' + title + '</h3>',\n              '<a class=\"btn btn-grn\" href=' + singupLink + ' target=\"\">SIGN UP</a>',\n              '</div>',\n              '</div>'\n            ].join('');\n            const eventMainDetails = [\n              '<div class=\"textbox\" style=\"padding-top:8px\">',\n              '<p>' + '<b>Date:</b> ' + date + '</p>',\n              '<p>' + '<b>Time:</b> ' + time + '</p>',\n              '<p>' + '<b>Location:</b> ' + location + '</p>',\n              '<p>' + '<b>About:</b> ' + desc + '</p>',\n              '</div>'\n            ].join('');\n            const eventsHTML = [\n              '<div class=\"column\">',\n              '<div class=\"card\">',\n              eventTopSection,\n              '<div class=\"card-section\">',\n              eventMainDetails,\n              '</div>',\n              '</div>',\n              '</div>'\n            ].join('');\n            $('#event-cards').append(eventsHTML);\n            $('#events-spinner').css('display', 'none');\n          }\n        });\n      }\n    });\n  } else {\n    $('.events-null').css('display', 'block');\n    $('.events-panel').css('display', 'none');\n  }\n  eventsFunctionality()\n}\n\n/* -------------------------------------------------------\n ------------------ Add Activity Graphs ------------------\n -------------------------------------------------------*/\n\nfunction setupGraphs () {\n  function removeExistingGraphs () {\n    const totalGraph = document.querySelector('#Team-User-Total-Graph svg');\n    const bldngGraph = document.querySelector('#Team-User-Bldng-Graph svg');\n    const roadsGraph = document.querySelector('#Team-User-Roads-Graph svg');\n    totalGraph.parentNode.removeChild(totalGraph);\n    bldngGraph.parentNode.removeChild(bldngGraph);\n    roadsGraph.parentNode.removeChild(roadsGraph);\n  }\n  const moreBtn = $('.btn.invert-btn-grn.teams-btn');\n  const teamLabel = $('.Team-Graph-Title .left');\n  const teamUserLabel = $('.Team-User-Graph-Title .left');\n\n  // Sets Users button to Selected, loads Users graphs, hides\n  // \"Show More Teams\" button\n  $('#Select-Users-Graph').click(function () {\n    $('#Select-Teams-Graph').removeClass('Selected');\n    $('#Select-Users-Graph').addClass('Selected');\n    teamLabel.text('Users');\n    teamUserLabel.text('Users');\n    // Remove existing graphs\n    removeExistingGraphs();\n    // Gets main hashtag on each partner page via team.html\n    getUserActivityStats(PT.code);\n  });\n\n  // Sets Teams button to Selected, loads Teams graphs, reveals\n  // \"Show More Teams\" button if applicable\n  $('#Select-Teams-Graph').click(function () {\n    $('#Select-Users-Graph').removeClass('Selected');\n    $('#Select-Teams-Graph').addClass('Selected');\n    teamLabel.text('Teams');\n    teamUserLabel.text('Teams');\n    // if (PT.subHashtags.length > 10) {\n    //   moreBtn.css('display', 'inline').animate({opacity: 1}, 500);\n    // }\n    // Remove existing graphs\n    removeExistingGraphs();\n    // Gets hashtag array on each partner page via team.html\n    getGroupActivityStats(PT.code);\n\n    showMoreContributions();\n  });\n}\n\n// Returns svg link to Missing Maps user endpoint\nfunction generateUserUrl (userName) {\n  const userUrl = 'http://www.missingmaps.org/users/#/' + userName.replace(/\\s+/g, '-').toLowerCase();\n  return `<a xlink:href=\"${userUrl}\" target=\"_blank\" style=\"text-decoration:none\">${userName}</a>`;\n}\n\nfunction getUserActivityStats (countryId) {\n\n  const url = `http://osmstats.redcross.org/countries/${countryId}/users`\n  $.getJSON(url, function (userData) {\n    if (userData.length !== 0) {\n      const totalSum = Object.keys(userData).map(function (user) {\n        const totalEdits = Math.round(Number(userData[user].all_edits));\n        return {name: generateUserUrl(userData[user].name), value: totalEdits};\n      }).sort((a, b) => b.value - a.value);\n\n      // For each user, sum the total building edits\n      const bldngSum = Object.keys(userData).map(function (user) {\n        const bldngEdits = Math.round(Number(userData[user].building_count_add));\n        return {name: generateUserUrl(userData[user].name), value: bldngEdits};\n      }).sort((a, b) => b.value - a.value);\n\n      // For each user, sum the total road kilometers edited\n      const roadsSum = Object.keys(userData).map(function (user) {\n        const roadsEdits = Math.round(Number(userData[user].road_km_add));\n        return {name: generateUserUrl(userData[user].name), value: roadsEdits};\n      }).sort((a, b) => b.value - a.value);\n\n      // Spawn a chart function with listening events for each of the metrics\n      var c1 = new Barchart(totalSum, '#Team-User-Total-Graph');\n      var c2 = new Barchart(bldngSum, '#Team-User-Bldng-Graph');\n      var c3 = new Barchart(roadsSum, '#Team-User-Roads-Graph');\n\n      const moreBtn = $('.btn.invert-btn-grn.teams-btn');\n      if (totalSum.length > 10) {\n        moreBtn.css('display', 'inline').animate({opacity: 1}, 500);\n      } else {\n        moreBtn.css('display', 'inline').animate({opacity: 0}, 500);\n      }\n\n      // On window resize, run window resize function on each chart\n      d3.select(window).on('resize', function () {\n        c1.resize();\n        c2.resize();\n        c3.resize();\n      });\n    }\n  });\n}\n\n// Returns svg link to Missing Maps leaderboard endpoint\nfunction generateHashtagUrl (hashtag) {\n  const hashtagUrl = 'http://www.missingmaps.org/leaderboards/#/' + hashtag;\n  return `<a xlink:href=\"${hashtagUrl}\" target=\"_blank\" style=\"text-decoration: none\">#${hashtag}</a>`;\n}\n\n// populate 'teams' graphs, which show activity per hashtag\nfunction getGroupActivityStats (countryId) {\n\n  const url = `http://osmstats.redcross.org/countries/${countryId}/hashtags`\n  $.getJSON(url, function (hashtagData) {\n      /*\n        For each hashtag, generate obj with link to hashtag's mm-leaderboards\n        page and the statistic of interest\n        ---\n        this is done in a reduce function w/the following steps\n        1) check to see if object has contents\n        2) get the statistic of interest, 'sum', rounded & as a Number\n        3) add to an acc list a) a link to hashtag on leaderboards and b) sum\n        4) sort the hashtags from largest to smallest 'sum' value\n      */\n    if (hashtagData.length !== 0) {\n      const totalSum = hashtagData.reduce(function (acc, ht) {\n        if (!$.isEmptyObject(ht)) {\n          const sum = Math.round(Number(ht.all_edits));\n          acc.push({name: generateHashtagUrl(ht.hashtag), value: sum});\n        }\n        return acc;\n      }, []).sort((a, b) => b.value - a.value);\n\n      const bldngSum = hashtagData.reduce(function (acc, ht) {\n      if (!$.isEmptyObject(ht)) {\n        const sum = Math.round(Number(ht.building_count_add)) +\n        Math.round(Number(ht.building_count_mod));\n        acc.push({name: generateHashtagUrl(ht.hashtag), value: sum});\n      }\n        return acc;\n      }, []).sort((a, b) => b.value - a.value);\n\n      const roadsSum = hashtagData.reduce(function (acc, ht) {\n        if (!$.isEmptyObject(ht)) {\n          const sum = Math.round(Number(ht.road_km_add)) +\n                      Math.round(Number(ht.road_km_add));\n          acc.push({name: generateHashtagUrl(ht.hashtag), value: sum});\n        }\n        return acc;\n      }, []).sort((a, b) => b.value - a.value);\n\n      // Spawn a chart function with listening events for each of the metrics\n      var c1 = new Barchart(totalSum, '#Team-User-Total-Graph');\n      var c2 = new Barchart(bldngSum, '#Team-User-Bldng-Graph');\n      var c3 = new Barchart(roadsSum, '#Team-User-Roads-Graph');\n\n      const moreBtn = $('.btn.invert-btn-grn.teams-btn');\n      if (totalSum.length > 10) {\n        moreBtn.css('display', 'inline').animate({opacity: 1}, 500);\n      } else {\n        moreBtn.css('display', 'inline').animate({opacity: 0}, 500);\n      }\n      // On window resize, run window resize function on each chart\n      d3.select(window).on('resize', function () {\n        c1.resize();\n        c2.resize();\n        c3.resize();\n      });\n    } else {\n      $('.Team-User-Nav').css('display','none');\n      $('.Team-User-Stats').css('display','none');\n      $('.teams-more').css('display','none');\n      $('.teams-none').css('display', 'block');\n      $('.Team-User-Container h1').css('text-align', 'center');\n    }\n  });\n}\n\nfunction Barchart (data, targetElement) {\n  // Setting margins and size using Bostock conventions for future\n  // ease of use, although currently leaving margins at 0\n  let margin = {top: 0, right: 0, bottom: 0, left: 0};\n  var width = parseInt(d3.select(targetElement).style('width'), 10);\n  width = width - margin.left - margin.right;\n  let height = 220;\n  let barPadding = 60 / data.length;\n  let barHeight = (height - margin.top - margin.bottom) / data.length - barPadding;\n\n  // If more than 10 records...\n  if (data.length > 10) {\n    // ...freeze dynamic sizing of bars and begin expanding the svg height instead\n    barPadding = 60 / 10;\n    barHeight = (height - margin.top - margin.bottom) / 10 - barPadding;\n    height = height + ((barPadding + barHeight) * (data.length - 10));\n    // ...enable \"Show More\" functionality; button appears which allows\n    // for panning up and down the length of svg bar graph\n    const offset = -((data.length - 10) * (barPadding + barHeight)) - 12;\n    let expanded = false;\n    $('.teams-btn')\n      .css('display', 'initial')\n      .click(function () {\n        const graphs = $('.Team-User-Graph > svg');\n        if (expanded === false) {\n          $('.teams-btn').html('SHOW INITIAL TEAMS');\n          graphs.animate({marginTop: offset}, 300);\n          expanded = true;\n        } else if (expanded === true) {\n          $('.teams-btn').html('SHOW MORE TEAMS');\n          graphs.animate({marginTop: 0}, 300);\n          expanded = false;\n        }\n      });\n  }\n\n  // Define scales\n  const x = d3.scale.linear()\n    .range([0, width])\n    .domain([0, d3.max(data, (d) => d.value)]);\n\n  // Create the chart\n  var chart = d3.select(targetElement).append('svg')\n    .style('width', (width + margin.left + margin.right) + 'px')\n    .style('height', height + 'px')\n  .append('g')\n    .attr('transform', 'translate(' + [margin.left, margin.top] + ')');\n\n  d3.select(chart.node().parentNode)\n    .style('height', height + 'px');\n\n  // Render the chart, add the set the bar groups\n  var bars = chart.selectAll('.bar')\n    .data(data)\n  .enter().append('g')\n    .attr('class', 'bar')\n    .attr('transform', (d, i) => {\n      return `translate(0,${i * (barHeight + barPadding)})`;\n    });\n\n  // Add the bar rectangles\n  bars.append('rect')\n    .attr('class', 'bars')\n    .attr('height', barHeight)\n    .attr('width', (d) => x(d.value));\n\n  // Add the name labels\n  bars.append('text')\n    .attr('class', 'Graph-Label-Name')\n    .attr('x', 5)\n    .attr('y', barHeight / 2)\n    .attr('dy', '.35em')\n    .html((d) => d.name)\n    .style('fill', '#606161');\n\n  // Add the value labels\n  bars.append('text')\n    .attr('class', 'Graph-Label-Value')\n    .attr('x', width - 20)\n    .attr('y', barHeight / 2)\n    .attr('dy', '.35em')\n    .text((d) => d.value.toLocaleString())\n    .attr('text-anchor', 'end')\n    .style('fill', '#606161');\n\n  this.resize = function () {\n    // Recalculate width of chart\n    width = parseInt(d3.select(targetElement).style('width'), 10);\n    width = width - margin.left - margin.right;\n\n    // Update svg size\n    d3.select(targetElement).select('svg')\n      .style('width', (width + margin.left + margin.right) + 'px');\n\n    // Update the scale of chart\n    x.range([0, width]);\n\n    // Update the bar width\n    chart.selectAll('rect.bars')\n      .attr('width', (d) => x(d.value));\n\n    // Update the value text position\n    chart.selectAll('text.Graph-Label-Value')\n      .attr('x', width - 20);\n  };\n}\n\n\nfunction showUpdatesPlaceholder() {\n  if ($(\".Updates-Content\").length === 0) {\n    $(\".updates-null\").css('display', 'block')\n    $(\"#updates-h1\").css('text-align', 'center')\n  }\n}\n\n/* !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n ---------------------------------------------------------\n --------------------- Setup Project ---------------------\n -------------------------------------------------------*/\n// Global Mapbox variables\nconst mbToken = 'pk.eyJ1IjoiZGV2c2VlZCIsImEiOiJnUi1mbkVvIn0.018aLhX0Mb0tdtaT2QNe2Q';\nconst mbBasemapUrl = 'https://api.mapbox.com/v4/mapbox.light/{z}/{x}/{y}.png';\n\nif (PT.name !== 'Microsites') {\n  showUpdatesPlaceholder()\n  // Populate the primary stats in hero via Missing Maps API\n  getPrimaryStats(PT.code);\n  // Populate initial groups graph via Missing Maps API\n  getGroupActivityStats(PT.code);\n  // Populate project carousel via HOTOSM Tasking Manager API\n  getProjects(PT.hotProjects);\n  // Populate events section with upcoming events\n  generateEvents(PT.calendar);\n  // setupGraphs\n  setupGraphs();\n}\n"],"sourceRoot":"/source/"}